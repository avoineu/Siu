import pytest
import Joueur3 
import json
from unittest.mock import patch
import unittest
import Joueur3

def test_decider_gate():
    result = Joueur3.decider_gate()
    gate_possible = ['A','B','C','D','E','F','G','H','I','J','K','L']
    assert result in gate_possible

def test_decider_rotation():
    result = Joueur3.decider_rotation()
    assert result >= 0 and result <= 3

def test_turn_tuile():
    tuile = {'N': 'True', 'E': 'False', 'S': 'True', 'W': 'True'}
    number_rotation = 2
    result = Joueur3.turn_tuile(tuile, number_rotation)
    expected_result = {'N': 'True', 'E': 'True', 'S': 'True', 'W': 'False'}
    assert result == expected_result

def test_answer():
    move = {'tile': {'N': False, 'E': True, 'S': False, 'W': True, 'item': None}, 'gate': 'D', 'new_position': 41}
    result = Joueur3.answer(move)
    expected_result = {
        "response": "move",
        "move": move,
        "message": "quoicouwhat"
    }
    assert result == expected_result

def test_deicder_position_E():
    board = [{"N": False, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 13}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": False, "E": True, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 21}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": False, "S": True, "W": True, "item": 14}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": False, "E": True, "S": True, "W": True, "item": 23}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": False, "S": True, "W": True, "item": 12}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 18}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}]
    position_actuelle = 0
    result = Joueur3.decider_position(board,position_actuelle)
    expected_result = 1
    assert result == expected_result

def test_deicder_position_E_extreme():
    board = [{"N": False, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 13}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": False, "E": True, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 21}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": False, "S": True, "W": True, "item": 14}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": False, "E": True, "S": True, "W": True, "item": 23}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": False, "S": True, "W": True, "item": 12}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 18}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}]
    position_actuelle = 6
    result = Joueur3.decider_position(board,position_actuelle)
    expected_result = 0
    assert result == expected_result

def test_deicder_position_N():
    board = [{"N": False, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 13}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": False, "E": True, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 21}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": False, "S": True, "W": True, "item": 14}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": False, "E": True, "S": True, "W": True, "item": 23}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": False, "S": True, "W": True, "item": 12}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 18}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}]
    position_actuelle = 7
    result = Joueur3.decider_position(board,position_actuelle)
    expected_result = 0
    assert result == expected_result

def test_deicder_position_N_extreme():
    board = [{"N": True, "E": False, "S": False, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 13}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": False, "E": True, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 21}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": False, "S": True, "W": True, "item": 14}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": False, "E": True, "S": True, "W": True, "item": 23}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": False, "S": True, "W": True, "item": 12}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 18}, {"N": False, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}]
    position_actuelle = 0
    result = Joueur3.decider_position(board,position_actuelle)
    expected_result = 42
    assert result == expected_result

def test_deicder_position_S():
    board = [{"N": False, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 13}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": False, "E": True, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 21}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": False, "S": True, "W": True, "item": 14}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": False, "E": True, "S": True, "W": True, "item": 23}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": False, "S": True, "W": True, "item": 12}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 18}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}]
    position_actuelle = 0
    result = Joueur3.decider_position(board,position_actuelle)
    expected_result = 7
    assert result == expected_result

def test_deicder_position_S_extreme():
    board = [{"N": True, "E": False, "S": False, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 13}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": False, "E": True, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 21}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": False, "S": True, "W": True, "item": 14}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": False, "E": True, "S": True, "W": True, "item": 23}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": False, "S": True, "W": True, "item": 12}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 18}, {"N": False, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}]
    position_actuelle = 42
    result = Joueur3.decider_position(board,position_actuelle)
    expected_result = 0
    assert result == expected_result

def test_deicder_position_W():
    board = [{"N": False, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": False, "W": True, "item": 13}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": False, "E": True, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 21}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": False, "S": True, "W": True, "item": 14}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": False, "E": True, "S": True, "W": True, "item": 23}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": False, "S": True, "W": True, "item": 12}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 18}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}]
    position_actuelle = 1
    result = Joueur3.decider_position(board,position_actuelle)
    expected_result = 0
    assert result == expected_result

def test_deicder_position_W_extreme():
    board = [{"N": False, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 13}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": False, "E": True, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 21}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": False, "S": True, "W": True, "item": 14}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": False, "E": True, "S": True, "W": True, "item": 23}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": False, "S": True, "W": True, "item": 12}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 18}, {"N": False, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}]
    position_actuelle = 0
    result = Joueur3.decider_position(board,position_actuelle)
    expected_result = 6
    assert result == expected_result

def test_move():
    tuile = {'N': 'False', 'E': 'False', 'S': 'True', 'W': 'True'}
    board = [{"N": False, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 13}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": False, "E": True, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 21}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": False, "S": True, "W": True, "item": 14}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": False, "E": True, "S": True, "W": True, "item": 23}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": False, "S": True, "W": True, "item": 12}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 18}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}]
    position_actuelle = 0

    with patch('Joueur3.decider_rotation') as mock_decider_rotation, \
         patch('Joueur3.decider_gate') as mock_decider_gate, \
         patch('Joueur3.decider_position') as mock_decider_position:
        mock_decider_rotation.return_value = 2
        mock_decider_gate.return_value = 'E'
        mock_decider_position.return_value = 1

        result = Joueur3.move(tuile, board, position_actuelle)

        expected_result = {
            "tile": {'N': 'True', 'E': 'True', 'S': 'False', 'W': 'False'},
            "gate": 'E',
            "new_position": 1
        }
        assert result == expected_result

def test_get_request():
    arg_mock = ["Joueur3.py","6666"]
    expected_result = {
        "request": "subscribe",
        "port": 6666,
        "name": "Avoinesback-6666",
        "matricules": ["21160","20057"]
    }

    with patch('Joueur3.sys.argv', arg_mock):
        result = Joueur3.get_request()

    assert result == json.dumps(expected_result)

def test_ping_pong():
    result = Joueur3.ping_pong()
    expected_result = json.dumps({"response": "pong"})
    assert result == expected_result

def test_process_serveur_message_ping():
    expected_result = b'{"response": "pong"}'
    assert Joueur3.process_serveur_message(b'{"request": "ping"}') == expected_result

# def test_process_serveur_message_play():
#     data = json.dumps({"request": "play", "lives": 1, "errors": [{"message": "This is a Bad Move. Your new_position is unreachable", "state": {"players": ["Avoinesback-6661", "Ayoubsback-3351"], "current": 0, "positions": [7, 46], "board": [{"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": True, "E": True, "S": False, "W": False, "item": 15}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 21}, {"N": True, "E": False, "S": False, "W": True, "item": 14}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": 12}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 18}, {"N": True, "E": True, "S": False, "W": True, "item": 23}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": False, "E": True, "S": True, "W": True, "item": 22}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": True, "E": True, "S": True, "W": False, "item": 20}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 19}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": 17}, {"N": False, "E": False, "S": True, "W": True, "item": 13}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}], "tile": {"N": True, "E": False, "S": False, "W": True, "item": None}, "target": 2, "remaining": [4, 4]}, "move": {"tile": {"N": True, "E": True, "S": False, "W": False, "item": None}, "gate": "L", "new_position": 0}}, {"message": "This is a Bad Move. Your new_position is unreachable", "state": {"players": ["Avoinesback-6661", "Ayoubsback-3351"], "current": 0, "positions": [7, 46], "board": [{"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": True, "E": True, "S": False, "W": True, "item": 19}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 21}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": True, "E": False, "S": True, "W": True, "item": 20}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": False, "W": True, "item": 14}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": 12}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 23}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": 17}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": True, "S": False, "W": True, "item": 18}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": 13}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 22}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}], "tile": {"N": True, "E": True, "S": False, "W": False, "item": 15}, "target": 2, "remaining": [4, 4]}, "move": {"tile": {"N": True, "E": True, "S": False, "W": False, "item": 15}, "gate": "L", "new_position": 0}}], "state": {"players": ["Avoinesback-6661", "Ayoubsback-3351"], "current": 0, "positions": [7, 45], "board": [{"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 0}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 1}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 19}, {"N": False, "E": False, "S": True, "W": True, "item": 17}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 2}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": True, "E": True, "S": True, "W": False, "item": 3}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 4}, {"N": True, "E": False, "S": False, "W": True, "item": 14}, {"N": True, "E": False, "S": True, "W": True, "item": 5}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": 12}, {"N": True, "E": False, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 23}, {"N": False, "E": True, "S": True, "W": False, "item": 15}, {"N": True, "E": True, "S": True, "W": False, "item": 6}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": True, "item": 7}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": True, "W": True, "item": 8}, {"N": True, "E": True, "S": False, "W": True, "item": 18}, {"N": True, "E": False, "S": True, "W": True, "item": 9}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": 16}, {"N": True, "E": True, "S": False, "W": True, "item": 21}, {"N": False, "E": False, "S": True, "W": True, "item": None}, {"N": False, "E": True, "S": False, "W": True, "item": None}, {"N": False, "E": True, "S": True, "W": False, "item": None}, {"N": True, "E": True, "S": False, "W": False, "item": None}, {"N": False, "E": True, "S": True, "W": True, "item": 22}, {"N": True, "E": True, "S": False, "W": True, "item": 10}, {"N": False, "E": False, "S": True, "W": True, "item": 13}, {"N": True, "E": True, "S": False, "W": True, "item": 11}, {"N": True, "E": False, "S": True, "W": False, "item": None}, {"N": True, "E": False, "S": False, "W": True, "item": None}], "tile": {"N": True, "E": False, "S": True, "W": True, "item": 20}, "target": 2, "remaining": [4, 4]}}) 
#     assert b'"move"' in Joueur3.process_serveur_message(data)

def test_process_serveur_message_play():
    data = '{"request": "play", "lives": 1, "errors": [{"message": "This is a Bad Move. Your new_position is unreachable", "state": {"players": ["Avoinesback-6661", "Ayoubsback-6649"], "current": 0, "positions": [7, 18], "board": [{"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": 15}, {"N": false, "E": true, "S": true, "W": true, "item": 0}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": true, "W": true, "item": 1}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": false, "item": 16}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": false, "E": true, "S": true, "W": true, "item": 20}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": false, "item": 12}, {"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 2}, {"N": true, "E": true, "S": true, "W": false, "item": 23}, {"N": true, "E": true, "S": true, "W": false, "item": 3}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": true, "W": true, "item": 4}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": true, "E": false, "S": true, "W": true, "item": 5}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": false, "W": false, "item": 13}, {"N": true, "E": true, "S": false, "W": false, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 6}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": true, "item": 7}, {"N": true, "E": true, "S": false, "W": true, "item": 18}, {"N": true, "E": false, "S": true, "W": true, "item": 8}, {"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": true, "E": false, "S": true, "W": true, "item": 9}, {"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": 14}, {"N": true, "E": true, "S": true, "W": false, "item": 21}, {"N": false, "E": true, "S": true, "W": false, "item": 17}, {"N": false, "E": true, "S": true, "W": true, "item": 19}, {"N": true, "E": true, "S": false, "W": false, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": true, "item": 10}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": false, "W": true, "item": 11}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": false, "S": false, "W": true, "item": null}], "tile": {"N": true, "E": true, "S": false, "W": true, "item": 22}, "target": 6, "remaining": [4, 4]}, "move": {"tile": {"N": true, "E": false, "S": true, "W": true, "item": 22}, "gate": "D", "new_position": 0}}, {"message": "This is a Bad Move. Your new_position is unreachable", "state": {"players": ["Avoinesback-6661", "Ayoubsback-6649"], "current": 0, "positions": [0, 15], "board": [{"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": true, "W": true, "item": 0}, {"N": true, "E": true, "S": true, "W": false, "item": 19}, {"N": false, "E": true, "S": true, "W": true, "item": 1}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": false, "item": 16}, {"N": false, "E": false, "S": true, "W": true, "item": 15}, {"N": false, "E": true, "S": true, "W": true, "item": 20}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": false, "item": 12}, {"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 2}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 3}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": true, "W": true, "item": 4}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": true, "E": false, "S": true, "W": true, "item": 5}, {"N": true, "E": true, "S": true, "W": false, "item": 23}, {"N": true, "E": false, "S": true, "W": true, "item": 18}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 6}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": false, "W": true, "item": 7}, {"N": false, "E": false, "S": true, "W": true, "item": 17}, {"N": true, "E": false, "S": true, "W": true, "item": 8}, {"N": false, "E": false, "S": true, "W": true, "item": 14}, {"N": true, "E": false, "S": true, "W": true, "item": 9}, {"N": false, "E": true, "S": true, "W": false, "item": 13}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 21}, {"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": false, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 22}, {"N": true, "E": true, "S": false, "W": true, "item": 10}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": true, "item": 11}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": true, "E": false, "S": false, "W": true, "item": null}], "tile": {"N": false, "E": true, "S": true, "W": false, "item": null}, "target": 6, "remaining": [4, 3]}, "move": {"tile": {"N": false, "E": false, "S": true, "W": true, "item": null}, "gate": "L", "new_position": 7}}], "state": {"players": ["Avoinesback-6661", "Ayoubsback-6649"], "current": 0, "positions": [0, 15], "board": [{"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": true, "W": true, "item": 0}, {"N": true, "E": true, "S": true, "W": false, "item": 19}, {"N": false, "E": true, "S": true, "W": true, "item": 1}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": false, "item": 16}, {"N": false, "E": false, "S": true, "W": true, "item": 15}, {"N": false, "E": true, "S": true, "W": true, "item": 20}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": false, "item": 12}, {"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 2}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 3}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": true, "W": true, "item": 4}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": true, "E": false, "S": true, "W": true, "item": 5}, {"N": true, "E": true, "S": true, "W": false, "item": 23}, {"N": true, "E": false, "S": true, "W": true, "item": 18}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": false, "E": false, "S": true, "W": true, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 6}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": false, "W": true, "item": 7}, {"N": false, "E": false, "S": true, "W": true, "item": 17}, {"N": true, "E": false, "S": true, "W": true, "item": 8}, {"N": false, "E": false, "S": true, "W": true, "item": 14}, {"N": true, "E": false, "S": true, "W": true, "item": 9}, {"N": false, "E": true, "S": true, "W": false, "item": 13}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": false, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 21}, {"N": false, "E": true, "S": true, "W": false, "item": null}, {"N": true, "E": true, "S": false, "W": false, "item": null}, {"N": true, "E": true, "S": true, "W": false, "item": 22}, {"N": true, "E": true, "S": false, "W": true, "item": 10}, {"N": true, "E": false, "S": false, "W": true, "item": null}, {"N": true, "E": true, "S": false, "W": true, "item": 11}, {"N": false, "E": true, "S": false, "W": true, "item": null}, {"N": true, "E": false, "S": false, "W": true, "item": null}], "tile": {"N": false, "E": true, "S": true, "W": false, "item": null}, "target": 6, "remaining": [4, 3]}}'
    expected_response = {'response': 'move', 'move': {'tile': {'N': False, 'E': True, 'S': True, 'W': False, 'item': None}, 'gate': 'D', 'new_position': 7}, 'message': 'quoicouwhat'}

    with patch('Joueur3.decider_gate') as mock_decider_gate, \
         patch('Joueur3.turn_tuile') as mock_turn_tuile:
        mock_decider_gate.return_value = 'D'
        mock_turn_tuile.return_value = {'N': False, 'E': True, 'S': True, 'W': False, 'item': None}
        bang = Joueur3.process_serveur_message(data)

    actual_response = json.loads(str(bang.decode()))

    assert actual_response == expected_response

class TestJoueur3(unittest.TestCase):

    @patch('sys.argv', ['Joueur3.py'])  # Mock sys.argv with no command-line arguments
    def test_main_missing_argument(self):
        # Execute the main function
        with self.assertRaises(IndexError):
            Joueur3.main()